!function(e){"use strict";e.fn.desoSlide=function(n){var a,t,i,o,r,s,d,l,c,p={main:{container:!1,cssClass:"",insertion:"append"},auto:{load:!0,start:!1},first:0,interval:3e3,effect:"fade",overlay:"always",caption:!1,controls:{enable:!0,keys:!0},events:{thumbClick:!1,prev:!1,pause:!1,play:!1,next:!1,completed:!1}},f=e.extend(!0,{},p,n),u=function(){var e=0;return function(n,a){clearTimeout(e),e=setTimeout(n,a)}}(),m=this,h=m.find("li"),v=h.length,g=f.first,y=e(f.main.container).find(".desoSlide-overlay"),w=f.interval<1500?1500:f.interval,k=!1,b=!1,I={checks:function(){m.length||I.resultHandler("error",m.selector+" doesn't exist."),f.main.container?e(f.main.container).length||I.resultHandler("error",e(f.main.container).selector+" doesn't exist."):I.resultHandler("error",'You must specify the "main.container" option. Check out the documentation.');var n=["always","hover","none"];-1===n.indexOf(f.overlay)&&I.resultHandler("error",'Incorrect value for the "overlay" option. Check out the documentation.'),g>=v&&(0===v?I.resultHandler("error","You must have at least 1 thumbnail."):I.resultHandler("error",'The "first" option must be between 0 and '+(v-1)+"."))},checkData:function(){!f.caption||void 0!==s&&""!==s||I.resultHandler("warning","The captions are enabled and the data-desoslide-caption attribute is missing on a thumb. Add it or disable captions. Check out the documention."),(void 0===r||""===r)&&I.resultHandler("warning","The alt attribute is missing on a thumb, it's mandatory on <img> tags.")},init:function(){I.loadImages(),I.effectHandler(),I.addWrapper(),I.displayImg()},loadImages:function(){f.auto.load&&h.find("a").each(function(n,a){e("<img>",{src:a.href,alt:""}).hide().appendTo("body")})},effectHandler:function(){c={fade:{"in":"fadeIn",out:"fadeOut"},sideFade:{"in":"fadeInLeft",out:"fadeOutRight"},sideFadeBig:{"in":"fadeInLeftBig",out:"fadeOutRightBig"},flip:{"in":"flipInX",out:"flipOutX"},light:{"in":"lightSpeedIn",out:"lightSpeedOut"},roll:{"in":"rollIn",out:"rollOut"},rotate:{"in":"rotateIn",out:"rotateOut"}},c.hasOwnProperty(f.effect)||(f.effect=p.effect,I.resultHandler("error",'Incorrect value for the "effect" option. Default value is used. Check out the documentation.'))},outEffect:function(){e(f.main.container).find("img").removeClass("animated "+c[f.effect].in).addClass("animated "+c[f.effect].out),setTimeout(function(){I.displayImg()},900)},addWrapper:function(){var n=e("<div>",{"class":"desoSlide-wrapper"}),a=e("<img>").addClass(f.main.cssClass).css("opacity",0);switch(f.main.insertion){case"prepend":a.prependTo(e(f.main.container)).wrap(n);break;case"append":a.appendTo(e(f.main.container)).wrap(n);break;case"replace":e(f.main.container).html(a).wrapInner(n);break;default:I.resultHandler("error",'Incorrect value for the "insertion" option. Check out the documentation.')}},displayImg:function(){I.resultHandler(),a=0,0>g&&(g=v-1),g>=v&&(g=0),a=g,o=h.find("a").eq(a).attr("href"),r=h.find("img").eq(a).attr("alt"),s=h.find("img").eq(a).data("desoslide-caption"),d=h.find("img").eq(a).data("desoslide-href"),I.checkData(),e(f.main.container).find("img").attr({src:o,alt:r,"data-desoslide-caption":s}).one("load",function(){e(this).removeClass("animated "+c[f.effect].out).addClass("animated "+c[f.effect].in).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){I.addOverlay()}),f.auto.start&&(g++,k=setTimeout(function(){I.outEffect()},w))})},addOverlay:function(){if("none"!==f.overlay){if(f.caption||f.controls.enable){var n=e(f.main.container).find("img").position(),a=parseInt(e(f.main.container).find("img").css("border-left-width"),10),t=e(f.main.container).find("img").width()+a,i=e(f.main.container).find("img").height()+a;0===e(f.main.container).find(".desoSlide-overlay").length&&e("<div>",{"class":"desoSlide-overlay"}).appendTo(e(f.main.container).find(".desoSlide-wrapper")),y=e(f.main.container).find(".desoSlide-overlay");var o=parseInt(y.css("padding-top").replace("px",""),10),r=parseInt(y.css("padding-bottom").replace("px",""),10),s=parseInt(y.css("padding-left").replace("px",""),10),d=parseInt(y.css("padding-right").replace("px",""),10),l=parseInt(y.css("height").replace("px",""),10)-(s+d);l=parseInt(i,10)-l-(o+r);var c=n.top+l,p=n.left;y.css({left:p+"px",top:c+"px",width:t+"px"}),"always"===f.overlay&&y.animate({opacity:.7},500),f.caption&&(I.updateCaption(),I.addLink())}else I.addLink();f.controls.enable&&I.addControls()}},updateCaption:function(){y.html(s)},addLink:function(){t=e(f.main.container).find("a.desoslide-link").length>0?!0:!1,i=void 0!==d&&""!==d?!0:!1;var n=e("<a>",{"class":"desoslide-link",href:d,target:"_blank"});t&&i?e(f.main.container).find("a.desoslide-link").attr("href",d):t&&!i?e(f.main.container).find("a.desoslide-link").replaceWith(n):!t&&i&&e(f.main.container).find(".desoSlide-wrapper").append(n)},addControls:function(){e(f.main.container).find(".desoSlide-controls-wrapper").remove();var n='<a href="#prev"><span class="desoSlide-controls prev"></span></a>',a='<a href="#pause"><span class="desoSlide-controls pause"></span></a>',t='<a href="#play"><span class="desoSlide-controls play"></span></a>',i='<a href="#next"><span class="desoSlide-controls next"></span></a>',o=e("<div>",{"class":"desoSlide-controls-wrapper"}).append(n+a+t+i);o.css({width:y.css("width"),left:y.css("left")}),e(f.main.container).find("a.desoslide-link").length>0?o.appendTo(e(f.main.container).find("a.desoslide-link")):o.appendTo(e(f.main.container).find(".desoSlide-wrapper")),l=e(f.main.container).find(".desoSlide-controls-wrapper"),f.auto.start?l.find('a[href="#play"]').hide().parent().find('a[href="#pause"]').show():l.find('a[href="#pause"]').hide().parent().find('a[href="#play"]').show()},pause:function(){f.auto.start&&k&&(f.auto.start=!1,clearTimeout(k),g--,l.find('a[href="#pause"]').hide().parent().find('a[href="#play"]').show())},play:function(){f.auto.start||(f.auto.start=!0,a===g&&g++,I.outEffect(),l.find('a[href="#play"]').hide().parent().find('a[href="#pause"]').show())},resultHandler:function(e,n){if(!b)switch(e){case"error":void 0!==console&&console.error("desoSlide: "+n),f.events.completed&&f.events.completed("error"),b=e;break;case"warning":void 0!==console&&console.warn("desoSlide: "+n),f.events.completed&&f.events.completed("warning");break;default:f.events.completed&&f.events.completed("success")}},events:function(){h.find("a").on("click",function(n){n.preventDefault();var a=e(this),t=a.parent("li").index();t!==g&&(y.animate({opacity:0}),g=t,I.outEffect(),I.pause()),f.events.thumbClick&&f.events.thumbClick()}),h.find("img").on({mouseover:function(){e(this).stop(!0,!0).animate({opacity:.7},"normal")},mouseout:function(){e(this).stop(!0,!0).animate({opacity:1},"fast")}}),"hover"===f.overlay&&e(f.main.container).on({mouseover:function(){y.stop().animate({opacity:.7},400)},mouseleave:function(){y.stop().animate({opacity:0},400)}}),f.controls.enable&&f.controls.keys&&e(document).on("keydown",function(n){switch(n.which){case 37:e(f.main.container).trigger("prev.desoslide");break;case 39:e(f.main.container).trigger("next.desoslide");break;case 32:n.preventDefault(),e(f.main.container).trigger(f.auto.start?"pause.desoslide":"play")}}),e(f.main.container).on("click",".desoSlide-controls-wrapper a",e(f.main.container),function(n){switch(n.preventDefault(),e(this).attr("href")){case"#prev":e(f.main.container).trigger("prev.desoslide");break;case"#pause":e(f.main.container).trigger("pause.desoslide");break;case"#play":e(f.main.container).trigger("play.desoslide");break;case"#next":e(f.main.container).trigger("next.desoslide")}}),e(f.main.container).on("prev.desoslide",function(){I.pause(),g--,I.outEffect(),f.events.prev&&f.events.prev()}),e(f.main.container).on("pause.desoslide",function(){I.pause(),f.events.pause&&f.events.pause()}),e(f.main.container).on("play.desoslide",function(){I.play(),f.events.play&&f.events.play()}),e(f.main.container).on("next.desoslide",function(){I.pause(),g++,I.outEffect(),f.events.next&&f.events.next()}),"none"!==f.overlay&&e(window).bind("resize",function(){u(function(){I.addOverlay()},100)})}};return e(window).load(function(){I.checks(),I.init(),I.events()}),this}}(jQuery);